(()=>{window.qs=function(e){return document.querySelectorAll(e).item(0)},window.storageMock=function(){var e={};return{getItem:function(t){return e[t]},setItem:function(t,o){e[t]=o.toString()}}},Object.defineProperty(window,"localStorage",{value:void 0!==window.localStorage?window.localStorage:storageMock()}),Object.defineProperty(window,"sessionStorage",{value:void 0!==window.sessionStorage?window.sessionStorage:storageMock()});var e=qs(".settings");e&&(e.onclick=function(){return qs("body").classList.toggle("sm_opened"),!1});var t=qs(".search_btn");t&&(t.onclick=function(){var e=qs("body");e.classList.add("s_opened"),qs(".s_text").focus();var t=document.createElement("div");return t.classList.add("s_layout"),e.appendChild(t),!1});var o=qs(".s_form");o&&(o.onsubmit=function(){return document.location.href="/video/"+encodeURIComponent(qs(".s_text").value.trim()),!1});var s=qs(".m_thumbs");if(s&&(s.onclick=function(){qs("body").classList.toggle("more_thumbs");var e=new Date;return e.setFullYear(e.getFullYear()+3),qs("body").classList.contains("more_thumbs")?document.cookie="more_thumbs=1; path=/; expires="+e.toUTCString():document.cookie="more_thumbs=0; path=/; expires="+e.toUTCString(),!1}),document.addEventListener("click",(function(e){e=e.target;var t=qs("body");if(t.classList.contains("sm_opened")&&(e.closest(".s_menu")||e.closest(".settings")||t.classList.remove("sm_opened")),t.classList.contains("f_opened")){if(e.closest(".filters"))return;t.classList.remove("f_opened")}t.classList.contains("s_opened")&&(e.closest(".search")||e.closest(".search_btn")||(qs(".s_layout").remove(),t.classList.remove("s_opened")))})),function(e,t){"use strict";if(!t.createElementNS||!t.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)return!0;var o,s,n="localStorage"in e&&null!==e.localStorage,r=function(){t.body.insertAdjacentHTML("afterbegin",s)},a=function(){t.body?r():t.addEventListener("DOMContentLoaded",r)};if(n&&1==localStorage.getItem("icons_svg_rev")&&(s=localStorage.getItem("icons_svg_data")))return a(),!0;try{(o=new XMLHttpRequest).open("GET","/static/img/icons.svg",!0),o.onload=function(){o.status>=200&&o.status<400&&(s='<div style="width:0;height:0">'+o.responseText+"</div>",a(),n&&(localStorage.setItem("icons_svg_data",s),localStorage.setItem("icons_svg_rev",1)))},o.send()}catch(e){}}(window,document),localStorage.getItem("jwtTokens")){var n=qs(".menu.user");if(n){n.style.display="block",qs(".h_btn.user").innerText=JSON.parse(localStorage.getItem("user")).username;var r=location.host,a=location.host.split(".");a.length>2&&(r=a[a.length-2]+"."+a[a.length-1]),qs(".h_btn.user").href="https://id."+r}}document.cookie.indexOf("csrftoken")>-1&&(document.cookie="csrftoken=1;expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/;")})();